<!DOCTYPE html>

<html>
<head>
    <title>PY_shell demo</title>
</head>
<body>
    <p><textarea rows="4" cols="50" id="code">
print(100)
print(200)
    </textarea></p>
    <p><input type='button' id='run' value='Run !' /></p>
    <div id='message'></div>
    <script src='https://cdn.socket.io/socket.io-1.4.5.js'></script>
    <script>
        var socket = io(window.location.origin); 
        var connection = -1; 
        socket.on('connect', function () { connection += 1; });

        // emit the .py code from input box
        document.getElementById('run').onclick = function () {
            socket.emit('run', {
                    code: document.getElementById('code').value, 
                },
                function (res) {
                document.getElementById('message').innerHTML += (
                    '<p>Timestamp: ' + res.timestamp + '</p>'+
                    '<p>Code: ' + res.code + '</p>'+
                    '<p>StdOut: ' + res.result + '</p>'
                )
            });
        };
    </script>
</body>
</html>